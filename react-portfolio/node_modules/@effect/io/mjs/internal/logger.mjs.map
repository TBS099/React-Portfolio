{"version":3,"file":"logger.mjs","names":["constVoid","dual","HashMap","List","Option","pipeArguments","Cause","Pretty","_fiberId","LogSpan","LoggerSymbolKey","LoggerTypeId","Symbol","for","loggerVariance","_Message","_","_Output","makeLogger","log","pipe","arguments","mapInput","self","f","options","message","filterLogLevel","logLevel","some","none","map","simple","succeed","value","sync","evaluate","zip","that","zipLeft","tuple","zipRight","stringLogger","annotations","cause","date","fiberId","spans","nowMillis","getTime","outputArray","toISOString","label","threadName","output","join","length","appendQuoted","empty","pretty","isCons","first","span","render","size","key","filterKeyName","escapeDoubleQuotes","str","replace","textOnly","match","logfmtLogger","appendQuotedLogfmt","renderLogSpanLogfmt","escapeDoubleQuotesLogfmt","JSON","stringify","now","startTime"],"sources":["../../src/internal/logger.ts"],"sourcesContent":[null],"mappings":"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"}