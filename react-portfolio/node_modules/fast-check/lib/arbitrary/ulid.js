"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ulid = void 0;
const tuple_1 = require("./tuple");
const integer_1 = require("./integer");
const UintToBase32String_1 = require("./_internals/mappers/UintToBase32String");
function ulid() {
    const timestampPartArbitrary = (0, integer_1.integer)({ min: 0, max: 0xffffffffffff });
    const randomnessPartOneArbitrary = (0, integer_1.integer)({ min: 0, max: 0xffffffffff });
    const randomnessPartTwoArbitrary = (0, integer_1.integer)({ min: 0, max: 0xffffffffff });
    return (0, tuple_1.tuple)(timestampPartArbitrary, randomnessPartOneArbitrary, randomnessPartTwoArbitrary).map(([date, random1, random2]) => {
        return [
            (0, UintToBase32String_1.paddedUintToBase32StringMapper)(10)(date),
            (0, UintToBase32String_1.paddedUintToBase32StringMapper)(8)(random1),
            (0, UintToBase32String_1.paddedUintToBase32StringMapper)(8)(random2),
        ].join('');
    }, (value) => {
        if (typeof value !== 'string' || value.length !== 26) {
            throw new Error('Unsupported type');
        }
        return [value.slice(0, 10), value.slice(10, 18), value.slice(18)].map(UintToBase32String_1.uintToBase32StringUnmapper);
    });
}
exports.ulid = ulid;
